<md-card>
    
    <md-card-content style="min-height: 400px;">
        <h3 class="md-title">{{ 'DOCUMENT.DOCUMENTS' | translate }}</h3>
        
        <span ng-repeat="crumb in docCtrl.breadcrumbs">
            <a ng-if="$first" class="breadcrumb" ng-click="docCtrl.crumbClick()"><i class="material-icons">folder_open</i></a>
            <span><i class="material-icons">keyboard_arrow_right</i></span>
            <a ng-if="!$last" class="breadcrumb" ng-click="docCtrl.crumbClick(crumb)">{{crumb.title}}</a>
            <span ng-if="$last">{{crumb.title}}</span>
        </span>
        <div class="tlist">
                <div class="tlist__header" layout="row">
                    <span class="tlist__cell tlist__cardview__hide icon" flex="none"></span>
                    <span class="tlist__cell" flex sort-table="title">{{ 'COMMON.TITLE' | translate }}</span>
                    <span class="tlist__cell" flex="15" sort-table="type.displayName">{{ 'COMMON.TYPE' | translate }}</span>
                    <span class="tlist__cell" flex="15" sort-table="category.displayName">{{ 'COMMON.CATEGORY' | translate }}</span>
                    <span class="tlist__cell" flex="20" sort-table="creator.fullName">{{ 'COMMON.CREATEDBY' | translate }}</span> <!-- might not be convenient to sort if multiple owner -->
                    <span class="tlist__cell" flex="15" sort-table="modified">{{ 'COMMON.MODIFIED' | translate }}</span>
                    <span class="tlist__cell" flex="6"></span>
                </div>
            <md-virtual-repeat-container class="tlist__body" md-auto-shrink>
                <div md-virtual-repeat="doc in docCtrl.documents | orderObjectBy:orderByAttribute:reverseOrder" 
                     layout="column" flex
                     class="tlist__item {{ doc.locked ? 'muted' : '' }}" ng-disabled="doc.locked">
                    <a class="tlist__item__link" style="cursor: pointer" ng-click="docCtrl.openItem(doc)" layout="row">
                        <span class="tlist__cell tlist__cell__fileicon tlist__cardview__hide icon" flex="none">
                            <img class="md-avatar" ng-src="app/assets/images/filetypes/{{doc.thumbNailURL}}"/>
                        </span>
                        <span class="tlist__cell" flex>
                            <img class="md-avatar tlist__cardview__show" ng-src="app/assets/images/filetypes/{{doc.thumbNailURL}}"/>
                            {{ doc.title }}</span>
                        <span class="tlist__cell muted" flex="15">
                            <i class="material-icons" ng-show="doc.aspects.fromOutlook" title="{{ 'DOCUMENT.SENT_FROM_OUTLOOK' | translate}}" style="padding-right: 5px;">email</i>
                            {{ doc.type.displayName }}
                        </span>
                        <span class="tlist__cell muted" flex="15">{{ doc.category.displayName }}</span>
                        <span class="tlist__cell muted" flex="20">
                            {{doc.creator.fullName}}
                        </span>
                        <span class="tlist__cell muted" flex="15">{{ doc.modified | openeDate }}</span>
                        <span flex="6">
                            <md-menu style="text-align: left;" ng-if="doc.folder">
                                <md-button aria-label="{{ 'MENU.OPEN_MENU' | translate }}" ng-click="$mdOpenMenu($event)">
                                    <i class="material-icons">more_vert</i>
                                </md-button>
                                <md-menu-content width="3">
                                    <md-menu-item>
                                        <md-button ng-click="docCtrl.editFolder(doc)">
                                            <md-icon>edit</md-icon>{{ 'COMMON.EDIT' | translate }}
                                        </md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                        <md-button ng-click="docCtrl.deleteFolder(doc)">
                                            <md-icon>delete</md-icon>{{ 'COMMON.DELETE' | translate }}
                                        </md-button>
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                        </span>
                    </a>
                </div>
                <div ng-show="docCtrl.documents.length == 0">
                    <span class="tlist__cell" flex translate="DOCUMENT.NO_DOCUMENTS_ADDED_YET"></span>
                </div>
            </md-virtual-repeat-container>
        </div>
    </md-card-content>
    
    <div class="md-actions" layout="row" layout-xs="column" layout-padding layout-align="start start">
        <span ng-include="'app/src/documents/view/caseDocumentActions.html'"></span>
    </div>
</md-card>