<h3>{{"DOCUMENT.DOCUMENTS" | translate}}</h3>
<table>
    <thead>
        <tr>
            <th></th>
            <th>{{'COMMON.TITLE' | translate}}</th>
            <th>{{'COMMON.NO' | translate}}</th>
            <th>{{'COMMON.TYPE' | translate}}</th>
            <th>{{'COMMON.CATEGORY' | translate}}</th>
            <th>{{'COMMON.STATE' | translate}}</th>
            <th>{{'COMMON.OWNER' | translate}}</th>
            <th>{{'COMMON.CREATED' | translate}}</th>
            <th>{{'COMMON.MODIFIED' | translate}}</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat-start="doc in dlg.documents">
            <td>
                <span ng-if="doc.attachments.length > 0 && doc.expanded" ng-click="doc.expanded = false" class="collapse"></span>
                <span ng-if="doc.attachments.length > 0 && !doc.expanded" ng-click="doc.expanded = true" class="expand"></span>
            </td>
            <td>
                <div style="display: inline-flex;">
                    <md-checkbox ng-model="doc.selected" aria-label="checkbox" ng-change="dlg.onDocSelectionChanged(doc)">{{doc.title}}</md-checkbox>
                </div>
            </td>
            <td></td>
            <td>{{doc.typeDisplayName}}</td>
            <td>{{doc.categoryDisplayName}}</td>
            <td>{{doc.status | docStatus}}</td>
            <td>{{doc.owner.firstName + " " + doc.owner.lastName}}</td>
            <td>{{doc.created | openeDate}}</td>
            <td>{{doc.modified | openeDate}}</td>
        </tr>
        <tr ng-if="doc.attachments.length > 0 && doc.expanded" ng-repeat-end="">
            <td style="padding-left: 50px;" colspan="9">
                <div ng-repeat="attachment in doc.attachments">
                    <md-checkbox ng-model="attachment.selected" aria-label="checkbox" ng-change="dlg.onDocSelectionChanged(attachment, doc)">
                        {{attachment.name}}
                    </md-checkbox>
                </div>
            </td>
        </tr>
    </tbody>
</table>