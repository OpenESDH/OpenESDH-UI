<app-header></app-header>

<md-content layout-padding>
  <h2>{{ 'CASEINFO.CASES' | translate }}</h2>
</md-content>

<md-tabs md-dynamic-height>
  
  <md-tab>
    <md-tab-label>
      <!--<span>My cases <span class="label" ng-bind="myUpdatedCases"></span></span>-->
      <span>{{ 'CASE.MY_CASES' | translate }}</span>
    </md-tab-label>
    <md-tab-body>
      <md-card>
        <md-card-content>
          <h3>{{ 'CASE.CASES' | translate }}</h3>
          <table>
            <thead>
              <tr>
                <th>{{ 'COMMON.ID' | translate }}</th>
                <th>{{ 'COMMON.TYPE' | translate }}</th>
                <th>{{ 'COMMON.TITLE' | translate }}</th>
                <th>{{ 'COMMON.CREATED' | translate }}</th>
                <th>{{ 'CASE.STARTDATE' | translate }}</th>
                <th>{{ 'CASE.ENDDATE' | translate }}</th>
                <th>{{ 'COMMON.MODIFIED' | translate }}</th>
                <th>{{ 'COMMON.STATUS' | translate }}</th>
                <th>{{ 'COMMON.ACTIONS' | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="case in vm.cases" class="{{ case.isUpdated ? 'updated' : 'not-updated' }}">
                <td>{{case["oe:id"]}}</td>
                <td>{{case["TYPE"]}}</td>
                <td>{{case["cm:title"]}}</td>
                <td>{{case["cm:created"] | date: 'yyyy-MM-dd'}}</td>
                <td>{{case["base:startDate"] | date: 'yyyy-MM-dd'}}</td>
                <td>{{case["base:endDate"] | date: 'yyyy-MM-dd'}}</td>
                <td>{{case["cm:modified"] | date: 'yyyy-MM-dd'}}</td>
                <td>{{case["oe:status"] | caseStatus}}</td>
                <td><md-button href="#/cases/case/{{case['oe:id']}}">{{ 'COMMON.VIEW' | translate }}</md-button></td>
              </tr>
            </tbody>
          </table>
        </md-card-content>
        <div class="md-actions">
          
          <md-menu>
            <md-button class="md-primary" ng-click="$mdOpenMenu($event)" aria-label="{{ 'CASE.CREATE_NEW_CASE' | translate }}">
              {{ 'CASE.CREATE_NEW_CASE' | translate }}
            </md-button>
            <md-menu-content>
              <md-menu-item><md-button ng-click="vm.createCase($event, 'standard')">{{ 'CASE.CASETYPE_STANDARD' | translate }}</md-button></md-menu-item>
              <md-menu-item><md-button ng-disabled="true">{{ 'CASE.CASETYPE_OTHER' | translate }}</md-button></md-menu-item>
            </md-menu-content>
          </md-menu>
        </div>
      </md-card>
    </md-tab-body>
  </md-tab>
  
  <md-tab>
    <md-tab-label>
      <span>{{ 'CASE.UNASSIGNED_CASES' | translate }}</span>
    </md-tab-label>
    <md-tab-body layout="column">
      <md-list>
        <md-list-item ng-repeat="case in cases">
          <md-card style="width:100%;">
            <md-card-content>
              <md-subheader>{{ 'CASE.CASE' | translate }}: {{ case.caseId }}</md-subheader>
              <div style="float: right; width: 20em; color: #999;">
                {{ 'COMMON.CREATED' | translate }} {{ case.createdDate }} {{ 'COMMON.BY' | translate }} {{ case.creator }}<br>
                {{ 'COMMON.STATUS' | translate }}: {{ case.status }}
              </div>
              <h2>{{ case.title }}</h2>
              <p>{{ case.desc }}</p>
              <ul class="list-unstyled" ng-repeat="doc in case.documents">
                <li><a href="#">{{ doc }}</a> <md-button ng-disabled="true">{{ 'COMMON.PREVIEW' | translate }}</md-button></li>
              </ul>
            </md-card-content>
            <div class="md-actions">
              <md-button class="md-primary" ng-disabled="true">{{ 'CASE.ASSIGN_TO' | translate }}</md-button>
              <a class="md-button md-primary" href="#/cases/case">{{ 'CASE.VIEW_CASE_DETAILS' | translate }}</a>
            </div>
          </md-card>
        </md-list-item>
      </md-list>
    </md-tab-body>
  </md-tab>
  
</md-tabs>

<app-footer></app-footer>
